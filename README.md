# è¶³çƒç«å½©æŠ•æ³¨è¿½è¸ªç³»ç»Ÿ

ä¸€ä¸ªå®Œæ•´çš„è¶³çƒç«å½©æ•°æ®æŠ“å–ã€åˆ†æå’ŒæŠ•æ³¨ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„éƒ¨ç½²ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®ç”±ä¸‰ä¸ªç‹¬ç«‹çš„å­æœåŠ¡ç»„æˆï¼Œåˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼š

1. **æŠ“å–æœåŠ¡ (Scraper Service)** - éƒ¨ç½²åœ¨ `mysql-backup` æœåŠ¡å™¨
2. **åç«¯ API æœåŠ¡ (API Service)** - éƒ¨ç½²åœ¨ `guiyun` æœåŠ¡å™¨
3. **å‰ç«¯æœåŠ¡ (Frontend)** - éƒ¨ç½²åœ¨ `guiyun` æœåŠ¡å™¨

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç”¨æˆ·æµè§ˆå™¨                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
         http://www.jetwong.top
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frontend (guiyun æœåŠ¡å™¨)                 â”‚
â”‚         - UniApp H5 åº”ç”¨                         â”‚
â”‚         - Nginx é™æ€æ–‡ä»¶æœåŠ¡                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
      http://api.football.jetwong.top
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       API Service (guiyun æœåŠ¡å™¨)                â”‚
â”‚       - FastAPI åº”ç”¨                             â”‚
â”‚       - MySQL æ•°æ®åº“                             â”‚
â”‚       - ç«¯å£: 7001                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘
                    â”‚ æ¯ 10 åˆ†é’ŸåŒæ­¥æ•°æ®
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Scraper Service (mysql-backup æœåŠ¡å™¨)         â”‚
â”‚    - æ•°æ®æŠ“å–è„šæœ¬                                 â”‚
â”‚    - Docker å®¹å™¨ (py39-dev)                      â”‚
â”‚    - å®šæ—¶ä»»åŠ¡ (crontab)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
         å¤–éƒ¨ç«å½© API (ä¸­å›½ä½“è‚²å½©ç¥¨)
```

## ğŸ“ ç›®å½•ç»“æ„

```
football-betting-system/
â”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶
â”œâ”€â”€ docs/                        # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ deployment.md           # éƒ¨ç½²æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md         # æ¶æ„è¯´æ˜
â”‚   â””â”€â”€ troubleshooting.md      # æ•…éšœæ’æŸ¥
â”œâ”€â”€ scraper-service/            # æŠ“å–æœåŠ¡
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ api-service/                # API æœåŠ¡
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ ...
â””â”€â”€ frontend/                   # å‰ç«¯æœåŠ¡
    â”œâ”€â”€ README.md
    â”œâ”€â”€ package.json
    â”œâ”€â”€ src/
    â””â”€â”€ ...
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd football-betting-system
```

### 2. éƒ¨ç½²æŠ“å–æœåŠ¡ï¼ˆmysql-backup æœåŠ¡å™¨ï¼‰

```bash
cd scraper-service
# æŸ¥çœ‹ README.md äº†è§£è¯¦ç»†éƒ¨ç½²æ­¥éª¤
```

### 3. éƒ¨ç½² API æœåŠ¡ï¼ˆguiyun æœåŠ¡å™¨ï¼‰

```bash
cd api-service
# æŸ¥çœ‹ README.md äº†è§£è¯¦ç»†éƒ¨ç½²æ­¥éª¤
```

### 4. éƒ¨ç½²å‰ç«¯æœåŠ¡ï¼ˆguiyun æœåŠ¡å™¨ï¼‰

```bash
cd frontend
# æŸ¥çœ‹ README.md äº†è§£è¯¦ç»†éƒ¨ç½²æ­¥éª¤
```

## ğŸŒ è®¿é—®åœ°å€

- **å‰ç«¯åº”ç”¨**: http://www.jetwong.top
- **API æ–‡æ¡£**: http://api.football.jetwong.top/docs
- **API å¥åº·æ£€æŸ¥**: http://api.football.jetwong.top/api/health

## ğŸ“Š æœåŠ¡å™¨é…ç½®

### guiyun æœåŠ¡å™¨ (103.140.229.232)

- **æ“ä½œç³»ç»Ÿ**: Ubuntu 24.04 LTS
- **Python**: 3.12.3
- **MySQL**: 8.0.43
- **Nginx**: 1.24.0
- **Node.js**: 22.15.0
- **æœåŠ¡**:
  - API Service (ç«¯å£ 7001)
  - Frontend (Nginx 80/443)
  - MySQL Database

### mysql-backup æœåŠ¡å™¨ (120.133.42.145)

- **æ“ä½œç³»ç»Ÿ**: CentOS/RHEL (æ—§ç‰ˆæœ¬)
- **Docker**: py39-dev å®¹å™¨
- **Python**: 3.9 (åœ¨å®¹å™¨ä¸­)
- **æœåŠ¡**:
  - Scraper Service (å®šæ—¶ä»»åŠ¡)

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯

- **æ¡†æ¶**: FastAPI 0.121.2
- **ASGI æœåŠ¡å™¨**: Uvicorn 0.38.0
- **æ•°æ®åº“**: MySQL 8.0.43
- **æ•°æ®åº“é©±åŠ¨**: PyMySQL 1.1.2
- **HTTP å®¢æˆ·ç«¯**: httpx 0.28.1
- **ä»»åŠ¡è°ƒåº¦**: APScheduler 3.11.1

### å‰ç«¯

- **æ¡†æ¶**: UniApp (Vue 3)
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UI ç»„ä»¶**: uni-ui

### åŸºç¡€è®¾æ–½

- **åå‘ä»£ç†**: Nginx
- **è¿›ç¨‹ç®¡ç†**: Systemd
- **å®¹å™¨åŒ–**: Docker
- **å®šæ—¶ä»»åŠ¡**: Crontab

## ğŸ’» æœ¬åœ°è¿è¡ŒæŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Python 3.9+
- Node.js 16+
- MySQL 8.0+

### å¿«é€Ÿå¯åŠ¨ï¼ˆ3 æ­¥ï¼‰

#### 1. æ•°æ®åº“å‡†å¤‡

```bash
# å¯åŠ¨ MySQL æœåŠ¡
# macOS: brew services start mysql
# Linux: sudo systemctl start mysql

# åˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE IF NOT EXISTS football_betting CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# å¯¼å…¥è¡¨ç»“æ„
mysql -u root -p football_betting < api-service/schema_mysql.sql
```

#### 2. å¯åŠ¨ API æœåŠ¡

```bash
cd api-service

# å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# é…ç½®æ•°æ®åº“è¿æ¥ï¼ˆä¿®æ”¹ä¸ºä½ çš„ MySQL å¯†ç ï¼‰
export MYSQL_HOST=localhost
export MYSQL_USER=root
export MYSQL_PASSWORD=your_password
export MYSQL_DATABASE=football_betting

# å¯åŠ¨æœåŠ¡
python3 main.py
```

è®¿é—® http://localhost:7001/docs æŸ¥çœ‹ API æ–‡æ¡£

#### 3. å¯åŠ¨å‰ç«¯

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev:h5
```

è®¿é—® http://localhost:5173

### å¯é€‰ï¼šæœ¬åœ°è¿è¡ŒæŠ“å–æœåŠ¡

```bash
cd scraper-service

# å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè¿æ¥æœ¬åœ°æ•°æ®åº“ï¼‰
export MYSQL_HOST=localhost
export MYSQL_USER=root
export MYSQL_PASSWORD=your_password
export MYSQL_DATABASE=football_betting

# æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡æŠ“å–
python3 main.py
```

### ğŸ“ å¼€å‘æŒ‡å—

è¯¦è§å„å­æœåŠ¡çš„ README.mdï¼š

- [æŠ“å–æœåŠ¡å¼€å‘æŒ‡å—](./scraper-service/README.md)
- [API æœåŠ¡å¼€å‘æŒ‡å—](./api-service/README.md)
- [å‰ç«¯å¼€å‘æŒ‡å—](./frontend/README.md)

## ğŸ“– æ–‡æ¡£

- [éƒ¨ç½²æ–‡æ¡£](./docs/deployment.md) - å®Œæ•´çš„éƒ¨ç½²æµç¨‹
- [æ¶æ„è¯´æ˜](./docs/architecture.md) - ç³»ç»Ÿæ¶æ„è®¾è®¡
- [æ•…éšœæ’æŸ¥](./docs/troubleshooting.md) - å¸¸è§é—®é¢˜è§£å†³

## ğŸ”’ å®‰å…¨å»ºè®®

1. âœ… ä¿®æ”¹æ•°æ®åº“é»˜è®¤å¯†ç 
2. âœ… é…ç½®é˜²ç«å¢™è§„åˆ™
3. âš ï¸ é…ç½® HTTPSï¼ˆæ¨èï¼‰
4. âš ï¸ å®šæœŸå¤‡ä»½æ•°æ®åº“
5. âš ï¸ ç›‘æ§æœåŠ¡å™¨èµ„æº

## ğŸ“ è”ç³»æ–¹å¼

- å¼€å‘è€…: jetwong
- é¡¹ç›®åœ°å€: https://github.com/JetWong0810/football-betting-system
